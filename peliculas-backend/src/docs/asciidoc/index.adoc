= ðŸŽ¬ *RestAPI Peliculas*
:toc: right

****
Este proyecto es una API REST desarrollada en Java utilizando el framework Micronaut, que permite gestionar una base de datos de pelÃ­culas. La aplicaciÃ³n expone endpoints para consultar, agregar y eliminar pelÃ­culas. Todo el entorno se levanta con Docker Compose, incluyendo una base de datos MySQL. AdemÃ¡s, se utiliza Swagger/OpenAPI para documentar e interactuar con los endpoints de forma visual. Para crear los tests del Controller y del Repository se ha usado Spock Framework.
****

== ðŸš€ *TecnologÃ­as utilizadas*


* Java 17+
* Micronaut Framework
* MySQL
* Swagger / OpenAPI
* Docker & Docker Compose
* Testing con Spock Framework



== ðŸ“¦ *Estructura del proyecto*


```
Application/
â”œâ”€â”€ ðŸ“ src/
â”‚   â”œâ”€â”€ ðŸ“ docs/
â”‚   â”‚   â”œâ”€â”€ asciidoc/
â”‚   â”‚       â””â”€â”€ index.adoc
â”‚   â”œâ”€â”€ ðŸ“ main/
â”‚   â”‚   â”œâ”€â”€ ðŸ“ java/
â”‚   â”‚   â”‚    â””â”€â”€ðŸ“ com/demo
â”‚   â”‚   â”‚           â”œâ”€â”€ Application.java
â”‚   â”‚   â”‚           â”œâ”€â”€ Pelicula.java
â”‚   â”‚   â”‚           â”œâ”€â”€ PeliculasController.java
â”‚   â”‚   â”‚           â””â”€â”€ PeliculasRepository.java
â”‚   â”‚   â”œâ”€â”€ ðŸ“ resources/
â”‚   â”‚       â”œâ”€â”€ application.properties
â”‚   â”‚       â””â”€â”€ logback.xml
â”‚   â”œâ”€â”€ ðŸ“ test/
â”‚       â”œâ”€â”€ ðŸ“ groovy/
â”‚       â”‚   â”œâ”€â”€ ðŸ“ com/
â”‚       â”‚       â”œâ”€â”€ ðŸ“ application/
â”‚       â”‚       â”‚   â”œâ”€â”€ Fixtures.groovy
â”‚       â”‚       â”‚   â”œâ”€â”€ PeliculasControllerSpec.groovy
â”‚       â”‚       â”‚   â””â”€â”€ PeliculasRepositorySpec.groovy
â”‚       â”‚       â”œâ”€â”€ ðŸ“ demo/
â”‚       â”‚           â””â”€â”€ ApplicationSpec.groovy
â”‚       â”œâ”€â”€ ðŸ“ resources/
â”‚           â””â”€â”€ application-test.properties
â”œâ”€â”€ README.md
â”œâ”€â”€ build.gradle
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ gradle.properties
â”œâ”€â”€ gradlew
â”œâ”€â”€ gradlew.bat
â”œâ”€â”€ micronaut-cli.yml
â”œâ”€â”€ openapi.properties
â””â”€â”€ settings.gradle
```


== ðŸ§¾ *Diagramas UML*
****
.Obtener todas las pelÃ­culas
[plantuml, format="svg"]
----
@startuml
actor Usuario
participant "Servicio REST" as Servicio
database "Base de Datos" as BD

Usuario -> Servicio : 1. PeticiÃ³n HTTP (GET /Peliculas)
Servicio -> BD : 2. Consulta SQL
BD --> Servicio : 3. Resultados
Servicio --> Usuario : 4. Respuesta HTTP (JSON)

@enduml
----
****

****
.Obtener pelÃ­cula por ID
[plantuml, format="svg"]
----
@startuml
actor Usuario
participant "Servicio REST" as Servicio
database "Base de Datos" as BD

Usuario -> Servicio : 1. PeticiÃ³n HTTP (GET /Peliculas/{id})
Servicio -> BD : 2. Consulta SQL
BD --> Servicio : 3. Resultado
Servicio --> Usuario : 4. Respuesta HTTP (JSON)

@enduml
----
****

****
.AÃ±adir pelÃ­cula
[plantuml, format="svg"]
----
@startuml
actor Usuario
participant "Servicio REST" as Servicio
database "Base de Datos" as BD

Usuario -> Servicio : 1. PeticiÃ³n HTTP (POST /Pelicula)
Servicio -> BD : 2. Consulta SQL
BD --> Servicio : 3. Resultado
Servicio --> Usuario : 4. Respuesta HTTP (JSON)

@enduml
----
****

****
.Borrar PelÃ­cula
[plantuml, format="svg"]
----
@startuml
actor Usuario
participant "Servicio REST" as Servicio
database "Base de Datos" as BD

Usuario -> Servicio : 1. PeticiÃ³n HTTP (DELETE /Peliculas/{id}
Servicio -> BD : 2. Consulta SQL
BD --> Servicio : 3. Resultado
Servicio --> Usuario : 4. Respuesta HTTP (JSON)

@enduml
----
****